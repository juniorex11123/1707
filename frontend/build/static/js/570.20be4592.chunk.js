"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[570],{570:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var s=a(43),r=a(722);const n={users:[{id:1,username:"owner",password:"owner123",type:"owner",role:"owner",company_id:null,company_name:"System Owner"},{id:2,username:"admin",password:"admin123",type:"admin",role:"admin",company_id:1,company_name:"Firma ABC"},{id:3,username:"user",password:"user123",type:"user",role:"user",company_id:1,company_name:"Firma ABC"}],companies:[{id:1,name:"Firma ABC",created_at:"2024-01-01T00:00:00Z"},{id:2,name:"Firma XYZ",created_at:"2024-01-01T00:00:00Z"}],employees:[{id:1,name:"Jan Kowalski",qr_code:"QR-EMP-001",company_id:1,is_active:!0,created_at:"2024-01-01T00:00:00Z"},{id:2,name:"Anna Nowak",qr_code:"QR-EMP-002",company_id:1,is_active:!0,created_at:"2024-01-01T00:00:00Z"}],timeEntries:[{id:1,employee_id:1,check_in:"2024-01-15T08:00:00Z",check_out:"2024-01-15T16:00:00Z",date:"2024-01-15",total_hours:8},{id:2,employee_id:2,check_in:"2024-01-15T09:00:00Z",check_out:"2024-01-15T17:00:00Z",date:"2024-01-15",total_hours:8}]},l=new Map,i={login:async(e,t)=>new Promise(((a,s)=>{setTimeout((()=>{const r="".concat(e,":").concat(t);if(l.has(r))return void a(l.get(r));const i=n.users.find((a=>a.username===e&&a.password===t));if(i){const e={access_token:"local_token_".concat(i.id,"_").concat(Date.now()),token_type:"bearer",user:{id:i.id,username:i.username,type:i.type,role:i.role,company_id:i.company_id,company_name:i.company_name,created_at:(new Date).toISOString()}};l.set(r,e),a(e)}else s(new Error("Invalid credentials"))}),100)})),validateToken:e=>e&&e.startsWith("local_token_"),logout:()=>{l.clear(),localStorage.removeItem("token"),localStorage.removeItem("user")}},c="".concat("https://ea9292a2-ec4d-46ee-8359-a50b2fd1a590.preview.emergentagent.com","/api"),o=r.A.create({baseURL:c,headers:{"Content-Type":"application/json"}});o.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),o.interceptors.response.use((e=>e),(e=>{var t;return 401!==(null===(t=e.response)||void 0===t?void 0:t.status)||window.location.pathname.includes("/panel")||(i.logout(),window.location.href="/panel"),Promise.reject(e)}));const d=async(e,t)=>{try{return await i.login(e,t)}catch(a){throw a}},m=new Map,x=e=>{const t=m.get(e);return t&&Date.now()-t.timestamp<3e5?t.data:null},u=(e,t)=>{m.set(e,{data:t,timestamp:Date.now()})},h=async()=>{const e="companies_all",t=x(e);if(t)return t;const a=await o.get("/companies");return u(e,a.data),a.data},p=async e=>{const t=await o.post("/companies",e);return m.delete("companies_all"),t.data},y=async(e,t)=>{const a=await o.put("/companies/".concat(e),t);return m.delete("companies_all"),a.data},g=async e=>{const t=await o.delete("/companies/".concat(e));return m.delete("companies_all"),t.data},j=async()=>{const e="users_all",t=x(e);if(t)return t;const a=await o.get("/users");return u(e,a.data),a.data},b=async e=>{const t=await o.post("/users",e);return m.delete("users_all"),t.data},w=async(e,t)=>{const a=await o.put("/users/".concat(e),t);return m.delete("users_all"),a.data},f=async e=>{const t=await o.delete("/users/".concat(e));return m.delete("users_all"),t.data},v=async()=>{const e="employees_all",t=x(e);if(t)return t;const a=await o.get("/employees");return u(e,a.data),a.data},N=async e=>{const t=await o.post("/employees",e);return m.delete("employees_all"),t.data},k=async(e,t)=>{const a=await o.put("/employees/".concat(e),t);return m.delete("employees_all"),a.data},z=async e=>{const t=await o.delete("/employees/".concat(e));return m.delete("employees_all"),t.data},_=async e=>(await o.get("/employees/".concat(e,"/qr"))).data,S=async(e,t)=>{try{console.log("Downloading PDF for employee:",t,"ID:",e),console.log("API URL:",c);const a=await o.get("/employees/".concat(e,"/qr-pdf"),{responseType:"blob"});console.log("Response received:",a.status);const s=new Blob([a.data],{type:"application/pdf"}),r=window.URL.createObjectURL(s),n=document.createElement("a");n.href=r;const l=t.replace(/[^a-zA-Z0-9]/g,"_");return n.download="qr_code_".concat(l,".pdf"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r),console.log("PDF download completed successfully"),a.data}catch(a){throw console.error("Error downloading PDF:",a),a}},C=async()=>{const e="time_entries_all",t=x(e);if(t)return t;const a=await o.get("/time-entries");return u(e,a.data),a.data},D=async e=>{const t=await o.post("/time-entries",e);return m.delete("time_entries_all"),t.data},A=async(e,t)=>{const a=await o.put("/time-entries/".concat(e),t);return m.delete("time_entries_all"),a.data},R=async e=>{const t=await o.delete("/time-entries/".concat(e));return m.delete("time_entries_all"),t.data},L=async(e,t)=>{const a="employee_summary_".concat(e,"_").concat(t),s=x(a);if(s)return s;const r=new URLSearchParams;e&&r.append("month",e),t&&r.append("year",t);const n=await o.get("/employee-summary?".concat(r));return u(a,n.data),n.data},P=async e=>{const t="employee_months_".concat(e),a=x(t);if(a)return a;const s=await o.get("/employee-months/".concat(e));return u(t,s.data),s.data},E=async(e,t)=>{const a="employee_days_".concat(e,"_").concat(t),s=x(a);if(s)return s;const r=await o.get("/employee-days/".concat(e,"/").concat(t));return u(a,r.data),r.data},B=async(e,t)=>{const a=await o.post("/qr-scan",{qr_code:e,user_id:t});return m.delete("time_entries_all"),a.data};var I=a(579);const T=function(e){let{onLogin:t}=e;const[a,r]=(0,s.useState)(""),[n,l]=(0,s.useState)(""),[i,c]=(0,s.useState)(!1),[o,m]=(0,s.useState)("");return(0,I.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center px-4",children:[(0,I.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,I.jsxs)("button",{onClick:()=>window.location.href="/",className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm text-white px-4 py-2 rounded-lg hover:bg-white/20 transition-all transform hover:scale-105",children:[(0,I.jsx)("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:(0,I.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,I.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),(0,I.jsx)("span",{className:"font-bold text-lg",children:"TimeTrackerPro"})]})}),(0,I.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[(0,I.jsxs)("div",{className:"text-center mb-8",children:[(0,I.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"System Ewidencji"}),(0,I.jsx)("p",{className:"text-gray-600",children:"Czasu Pracy"})]}),o&&(0,I.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),(0,I.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),m("");try{const e=await d(a,n);e.access_token&&e.user?t(e.user,e.access_token):m("B\u0142\u0119dne dane logowania")}catch(o){console.error("Login error:",o),m("B\u0142\u0119dne dane logowania")}c(!1)},className:"space-y-6",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nazwa u\u017cytkownika"}),(0,I.jsx)("input",{type:"text",id:"username",value:a,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Has\u0142o"}),(0,I.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,I.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:i?"Logowanie...":"Zaloguj si\u0119"})]})]})]})};var U=a(544);const Z=function(e){let{onScan:t,loading:a,disabled:r}=e;const[n,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)(null),[o,d]=(0,s.useState)("environment"),[m,x]=(0,s.useState)(!1),[u,h]=(0,s.useState)(0),[p,y]=(0,s.useState)(null),[g,j]=(0,s.useState)(0),[b,w]=(0,s.useState)(!0),f=(0,s.useRef)(null),v=(0,s.useRef)(null),N=(0,s.useRef)(null),k=(0,s.useRef)(!1),z=(0,s.useRef)(null);(0,s.useEffect)((()=>(b&&!r&&_(),()=>{S(),N.current&&clearInterval(N.current)})),[]),(0,s.useEffect)((()=>{k.current=m}),[m]),(0,s.useEffect)((()=>{z.current=p}),[p]);const _=async()=>{try{c(null),l(!0),v.current&&v.current.destroy();const e=new U.A(f.current,(e=>{if(e&&e.data){const s=Date.now();if(console.log("QR Code detected:",e.data),s-g<1e3)return void console.log("Too rapid scanning, ignoring...");if(z.current===e.data&&k.current)return void console.log("Same code detected during cooldown, ignoring...");if(k.current||a)return void console.log("Processing in progress, ignoring scan...");j(s),y(e.data),z.current=e.data,t(e.data),v.current&&v.current.stop(),h(5),x(!0),k.current=!0,N.current&&clearInterval(N.current),N.current=setInterval((()=>{h((e=>e<=1?(clearInterval(N.current),x(!1),k.current=!1,y(null),z.current=null,b&&!r&&setTimeout((()=>{_()}),100),0):e-1))}),1e3)}}),{onDecodeError:e=>{},preferredCamera:o,highlightScanRegion:!0,highlightCodeOutline:!0,returnDetailedScanResult:!0,maxScansPerSecond:2});v.current=e,await e.start()}catch(e){console.error("Error starting QR scanner:",e),c("Nie mo\u017cna uzyska\u0107 dost\u0119pu do kamery. Sprawd\u017a uprawnienia."),l(!1)}},S=()=>{v.current&&(v.current.destroy(),v.current=null),l(!1),N.current&&(clearInterval(N.current),h(0),x(!1),k.current=!1),y(null),z.current=null};return(0,s.useEffect)((()=>{n&&!m&&o&&_()}),[o]),(0,I.jsxs)("div",{className:"qr-scanner-container",children:[i&&(0,I.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[i,(0,I.jsx)("button",{onClick:()=>c(null),className:"ml-2 text-red-800 hover:text-red-900",children:"\u2715"})]}),u>0&&(0,I.jsx)("div",{className:"bg-orange-100 border border-orange-400 text-orange-700 px-4 py-3 rounded mb-4",children:(0,I.jsxs)("div",{className:"flex items-center",children:[(0,I.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,I.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),(0,I.jsxs)("span",{className:"font-medium",children:["Kod zosta\u0142 zeskanowany! Automatyczne ponowne uruchomienie za ",u," sekund"]})]})}),(0,I.jsxs)("div",{className:"relative",children:[(0,I.jsx)("video",{ref:f,className:"qr-scanner-video w-full h-64 object-cover rounded-lg",style:{display:n||m?"block":"none"}}),!n&&!m&&(0,I.jsx)("div",{className:"w-full h-64 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,I.jsxs)("div",{className:"text-center",children:[(0,I.jsx)("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,I.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),(0,I.jsx)("p",{className:"text-gray-500",children:"Kamera nie jest aktywna"})]})}),(a||m)&&(0,I.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center rounded-lg",children:(0,I.jsxs)("div",{className:"text-center text-white",children:[(0,I.jsx)("div",{className:"spinner border-4 border-gray-300 border-t-blue-500 rounded-full w-8 h-8 animate-spin mx-auto mb-2"}),(0,I.jsx)("p",{className:"text-sm font-medium",children:m?"Automatyczne uruchomienie za ".concat(u,"s"):"Przetwarzanie..."})]})}),(n||m)&&!a&&(0,I.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,I.jsx)("div",{className:"absolute top-4 left-4 w-8 h-8 border-t-2 border-l-2 border-green-500"}),(0,I.jsx)("div",{className:"absolute top-4 right-4 w-8 h-8 border-t-2 border-r-2 border-green-500"}),(0,I.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 border-b-2 border-l-2 border-green-500"}),(0,I.jsx)("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-b-2 border-r-2 border-green-500"}),(0,I.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,I.jsx)("div",{className:"w-6 h-6 border-2 border-green-500 bg-green-500/20 rounded"})})]})]}),(0,I.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,I.jsx)("button",{onClick:()=>{m||(n?(S(),w(!1)):(w(!0),_()))},disabled:r||m,className:"flex-1 px-4 py-2 rounded-md font-medium transition-colors ".concat(n?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"," disabled:opacity-50 disabled:cursor-not-allowed"),children:m?"Automatyczne uruchomienie za ".concat(u,"s"):n?"Zatrzymaj":"Uruchom skaner"}),n&&(0,I.jsx)("button",{onClick:async()=>{if(m)return void c("Nie mo\u017cna prze\u0142\u0105czy\u0107 kamery podczas przetwarzania");const e="environment"===o?"user":"environment";if(d(e),v.current)try{await v.current.setCamera(e)}catch(t){console.error("Error switching camera:",t),c("Nie mo\u017cna prze\u0142\u0105czy\u0107 kamery")}},disabled:r||m,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Prze\u0142\u0105cz kamer\u0119",children:"\ud83d\udcf7"})]}),(0,I.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,I.jsxs)("p",{children:["\u2022 Kamera: ","environment"===o?"Tylna":"Przednia"]}),(0,I.jsx)("p",{children:"\u2022 Skaner automatycznie uruchamia si\u0119 po za\u0142adowaniu"}),(0,I.jsx)("p",{children:"\u2022 Automatyczne ponowne uruchomienie po 5 sekundach"}),(0,I.jsx)("p",{children:"\u2022 \u26a1 Ulepszona stabilno\u015b\u0107 - brak bug\xf3w podczas skanowania"}),m&&(0,I.jsxs)("p",{className:"text-orange-600 font-medium",children:["\u2022 \u23f3 Odliczanie: ",u," sekund do ponownego uruchomienia"]}),!n&&!m&&(0,I.jsxs)("p",{className:"text-blue-600 font-medium",children:["\u2022 \ud83d\udd04 Automatyczne uruchamianie: ",b?"W\u0142\u0105czone":"Wy\u0142\u0105czone"]})]})]})};const q=function(e){let{user:t,onLogout:a}=e;const[r,n]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[c,o]=(0,s.useState)(null);(0,s.useEffect)((()=>{d()}),[]);const d=async()=>{try{t.company_id&&t.company_name&&o({id:t.company_id,name:t.company_name})}catch(e){console.error("B\u0142\u0105d pobierania informacji o firmie:",e)}};return(0,I.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,I.jsx)("div",{className:"bg-white shadow-sm",children:(0,I.jsx)("div",{className:"max-w-md mx-auto px-4 py-4",children:(0,I.jsxs)("div",{className:"flex justify-between items-center",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"Skaner QR"}),(0,I.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,I.jsxs)("p",{children:["Witaj, ",t.username]}),c&&(0,I.jsx)("p",{children:(0,I.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["\ud83c\udfe2 ",c.name]})})]})]}),(0,I.jsx)("button",{onClick:a,className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Wyloguj"})]})})}),(0,I.jsxs)("div",{className:"max-w-md mx-auto px-4 py-6",children:[c&&(0,I.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,I.jsx)("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:"\ud83d\udd12 Zabezpieczenie Firmy"}),(0,I.jsxs)("ul",{className:"text-sm text-green-700 space-y-1",children:[(0,I.jsx)("li",{children:"\u2022 Mo\u017cesz skanowa\u0107 tylko kody QR z Twojej firmy"}),(0,I.jsx)("li",{children:"\u2022 Dane firm s\u0105 ca\u0142kowicie oddzielone"}),(0,I.jsxs)("li",{children:["\u2022 Twoja firma: ",(0,I.jsx)("strong",{children:c.name})]})]})]}),(0,I.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,I.jsx)("h2",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Instrukcja u\u017cycia"}),(0,I.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,I.jsx)("li",{children:"\u2022 Skaner uruchamia si\u0119 automatycznie po za\u0142adowaniu strony"}),(0,I.jsx)("li",{children:"\u2022 Zeskanuj kod QR pracownika z Twojej firmy"}),(0,I.jsx)("li",{children:"\u2022 Pierwsze skanowanie = rozpocz\u0119cie pracy"}),(0,I.jsx)("li",{children:"\u2022 Drugie skanowanie = zako\u0144czenie pracy"}),(0,I.jsx)("li",{children:"\u2022 \ud83d\udee1\ufe0f Automatyczne zatrzymanie po wykryciu kodu"}),(0,I.jsx)("li",{children:"\u2022 \u23f0 Automatyczne ponowne uruchomienie po 5 sekundach"}),(0,I.jsx)("li",{children:"\u2022 \ud83d\udd04 Mo\u017cliwo\u015b\u0107 prze\u0142\u0105czania kamery prz\xf3d/ty\u0142"}),(0,I.jsx)("li",{children:"\u2022 \ud83c\udfaf Nie musisz klika\u0107 przycisk\xf3w - wszystko dzia\u0142a automatycznie!"})]})]}),(0,I.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[(0,I.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Skanuj kod QR"}),(0,I.jsx)(Z,{onScan:async e=>{i(!0),n(null);try{const a=await B(e,t.id);a.success?n({success:!0,action:a.action,employee:a.employee_name,time:a.time,message:a.message,cooldown_seconds:a.cooldown_seconds}):n({success:!1,message:a.message,isUnauthorized:!0})}catch(a){console.error("Error processing QR scan:",a),n({success:!1,message:"B\u0142\u0105d po\u0142\u0105czenia z serwerem"})}i(!1)},loading:l,disabled:l})]}),r&&(0,I.jsx)("div",{className:"rounded-lg p-4 mb-6 ".concat(r.success?"bg-green-50 border border-green-200":r.isCooldown?"bg-orange-50 border border-orange-200":(r.isUnauthorized,"bg-red-50 border border-red-200")),children:(0,I.jsxs)("div",{className:"flex justify-between items-start",children:[(0,I.jsx)("div",{className:"flex-1",children:r.success?(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"flex items-center mb-2",children:[(0,I.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,I.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,I.jsx)("h3",{className:"text-lg font-semibold text-green-800",children:"check_in"===r.action?"Rozpocz\u0119to prac\u0119":"Zako\u0144czono prac\u0119"})]}),(0,I.jsxs)("div",{className:"text-green-700 space-y-1",children:[(0,I.jsxs)("p",{children:[(0,I.jsx)("strong",{children:"Pracownik:"})," ",r.employee]}),(0,I.jsxs)("p",{children:[(0,I.jsx)("strong",{children:"Czas:"})," ",r.time]}),(0,I.jsx)("p",{className:"text-sm",children:r.message})]})]}):r.isUnauthorized?(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"flex items-center mb-2",children:[(0,I.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,I.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,I.jsx)("h3",{className:"text-lg font-semibold text-red-800",children:"Brak dost\u0119pu"})]}),(0,I.jsx)("p",{className:"text-red-700",children:r.message}),(0,I.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"Mo\u017cesz skanowa\u0107 tylko kody QR pracownik\xf3w z Twojej firmy."})]}):(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"flex items-center mb-2",children:[(0,I.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,I.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,I.jsx)("h3",{className:"text-lg font-semibold text-red-800",children:"B\u0142\u0105d"})]}),(0,I.jsx)("p",{className:"text-red-700",children:r.message})]})}),(0,I.jsx)("button",{onClick:()=>{n(null)},className:"ml-4 text-gray-400 hover:text-gray-600",children:(0,I.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,I.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),(0,I.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,I.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Pomoc"}),(0,I.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,I.jsx)("p",{children:"\u2022 Upewnij si\u0119, \u017ce kamera ma dost\u0119p do urz\u0105dzenia"}),(0,I.jsx)("p",{children:"\u2022 Trzymaj kod QR w centrum kamery"}),(0,I.jsx)("p",{children:"\u2022 Poczekaj na automatyczne rozpoznanie"}),(0,I.jsx)("p",{children:"\u2022 Kod QR musi nale\u017ce\u0107 do Twojej firmy"})]})]})]})]})};var F=a(555);const Q=function(e){let{user:t,onLogout:a}=e;const[r,n]=(0,s.useState)("employees"),[l,i]=(0,s.useState)([]),[c,o]=(0,s.useState)([]),[d,m]=(0,s.useState)(null),[x,u]=(0,s.useState)(!0),[h,p]=(0,s.useState)(""),[y,g]=(0,s.useState)([]),[j,b]=(0,s.useState)(null),[w,f]=(0,s.useState)([]),[B,T]=(0,s.useState)(null),[U,Z]=(0,s.useState)([]),[q,Q]=(0,s.useState)("main"),[M,W]=(0,s.useState)(!1),[O,K]=(0,s.useState)(null),[H,V]=(0,s.useState)(null),[G,J]=(0,s.useState)(!1),[X,Y]=(0,s.useState)(null),[$,ee]=(0,s.useState)({name:"",is_active:!0}),[te,ae]=(0,s.useState)(!1),[se,re]=(0,s.useState)(null),[ne,le]=(0,s.useState)({employee_id:"",check_in:"",check_out:""});(0,s.useEffect)((()=>{ie()}),[]);const ie=async()=>{try{u(!0),p(""),t.company_id&&t.company_name&&m({id:t.company_id,name:t.company_name});const[e,a]=await Promise.all([v(),C()]);i(e),o(a)}catch(h){console.error("Error loading data:",h),p("B\u0142\u0105d podczas \u0142adowania danych")}finally{u(!1)}},ce=e=>{const t=l.find((t=>t.id===e));return t?t.name:"Nieznany"};return x?(0,I.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,I.jsx)("div",{className:"text-xl",children:"\u0141adowanie..."})}):(0,I.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,I.jsx)("div",{className:"bg-white shadow-sm",children:(0,I.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,I.jsxs)("div",{className:"flex justify-between items-center",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Panel Administratora"}),(0,I.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,I.jsxs)("p",{children:["Witaj, ",t.username]}),d&&(0,I.jsx)("p",{children:(0,I.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["\ud83c\udfe2 ",d.name]})})]})]}),(0,I.jsx)("button",{onClick:a,className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Wyloguj"})]})})}),h&&(0,I.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,I.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:h})}),(0,I.jsx)("div",{className:"bg-white border-b",children:(0,I.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,I.jsxs)("nav",{className:"flex space-x-8",children:[(0,I.jsx)("button",{onClick:()=>n("employees"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("employees"===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Pracownicy"}),(0,I.jsx)("button",{onClick:()=>n("reports"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("reports"===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Raporty czasu"}),(0,I.jsx)("button",{onClick:()=>{n("summary"),"summary"!==r&&(Q("main"),(async(e,t)=>{try{u(!0),p("");const a=await L(e,t);g(a)}catch(h){console.error("Error loading employee summary:",h),p("B\u0142\u0105d podczas \u0142adowania podsumowania pracownik\xf3w")}finally{u(!1)}})())},className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("summary"===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Podsumowanie pracownik\xf3w"})]})})}),(0,I.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:["employees"===r&&(0,I.jsx)("div",{children:(0,I.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,I.jsxs)("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[(0,I.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Lista pracownik\xf3w"}),(0,I.jsx)("button",{onClick:()=>{Y(null),ee({name:"",is_active:!0}),J(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Dodaj pracownika"})]}),(0,I.jsx)("div",{className:"overflow-x-auto",children:(0,I.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,I.jsx)("thead",{className:"bg-gray-50",children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Imi\u0119 i nazwisko"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kod QR"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Akcje"})]})}),(0,I.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((e=>(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm text-gray-500",children:e.qr_code})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Aktywny":"Nieaktywny"})}),(0,I.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,I.jsx)("button",{onClick:()=>(e=>{Y(e),ee({name:e.name,is_active:e.is_active}),J(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edytuj"}),(0,I.jsx)("button",{onClick:()=>(async e=>{try{p("");const t=await _(e.id);K(e),V(t),W(!0)}catch(h){console.error("Error generating QR code:",h),p("B\u0142\u0105d podczas generowania kodu QR")}})(e),className:"text-green-600 hover:text-green-900 mr-4",children:"Generuj QR"}),(0,I.jsx)("button",{onClick:()=>(async e=>{try{p(""),await S(e.id,e.name)}catch(h){console.error("Error downloading QR PDF:",h),p("B\u0142\u0105d podczas pobierania PDF z kodem QR")}})(e),className:"text-purple-600 hover:text-purple-900 mr-4",children:"Pobierz PDF"}),(0,I.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Czy na pewno chcesz usun\u0105\u0107 tego pracownika?"))try{await z(e),await ie()}catch(h){console.error("Error deleting employee:",h),p("B\u0142\u0105d podczas usuwania pracownika")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Usu\u0144"})]})]},e.id)))})]})})]})}),"reports"===r&&(0,I.jsx)("div",{children:(0,I.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,I.jsxs)("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[(0,I.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Raporty czasu pracy"}),(0,I.jsx)("button",{onClick:()=>{re(null),le({employee_id:"",check_in:"",check_out:""}),ae(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Dodaj wpis"})]}),(0,I.jsx)("div",{className:"overflow-x-auto",children:(0,I.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,I.jsx)("thead",{className:"bg-gray-50",children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Imi\u0119 i nazwisko"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Przyj\u015bcie"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wyj\u015bcie"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Godziny pracy"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Akcje"})]})}),(0,I.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((e=>(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm font-medium text-gray-900",children:ce(e.employee_id)})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.date).toLocaleDateString("pl-PL")}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.check_in).toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit"})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.check_out?new Date(e.check_out).toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit"}):"-"}),(0,I.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.total_hours||0,"h"]}),(0,I.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,I.jsx)("button",{onClick:()=>{return re(t=e),le({employee_id:t.employee_id,check_in:t.check_in?new Date(t.check_in).toISOString().slice(0,16):"",check_out:t.check_out?new Date(t.check_out).toISOString().slice(0,16):""}),void ae(!0);var t},className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edytuj"}),(0,I.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Czy na pewno chcesz usun\u0105\u0107 ten wpis czasu?"))try{await R(e),await ie()}catch(h){console.error("Error deleting time entry:",h),p("B\u0142\u0105d podczas usuwania wpisu czasu")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Usu\u0144"})]})]},e.id)))})]})})]})}),"summary"===r&&(0,I.jsxs)("div",{children:["main"===q&&(0,I.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,I.jsxs)("div",{className:"px-6 py-4 border-b",children:[(0,I.jsxs)("h2",{className:"text-lg font-semibold text-gray-800",children:["Podsumowanie pracownik\xf3w - ",(new Date).toLocaleDateString("pl-PL",{month:"long",year:"numeric"})]}),(0,I.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Kliknij na pracownika, aby zobaczy\u0107 szczeg\xf3\u0142y miesi\u0119cy"})]}),(0,I.jsxs)("div",{className:"overflow-x-auto",children:[(0,I.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,I.jsx)("thead",{className:"bg-gray-50",children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Imi\u0119 i nazwisko"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Liczba godzin w miesi\u0105cu"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Akcje"})]})}),(0,I.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map((e=>(0,I.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.employee_name})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsxs)("div",{className:"text-sm text-gray-900 font-semibold",children:[e.total_hours.toFixed(1),"h"]})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,I.jsx)("button",{onClick:()=>(async e=>{try{b(e),u(!0),p("");const t=await P(e.employee_id);f(t),Q("months")}catch(h){console.error("Error loading employee months:",h),p("B\u0142\u0105d podczas \u0142adowania miesi\u0119cy pracownika")}finally{u(!1)}})(e),className:"text-blue-600 hover:text-blue-900",children:"Zobacz miesi\u0105ce"})})]},e.employee_id)))})]}),0===y.length&&(0,I.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Brak danych o pracownikach"})]})]}),"months"===q&&j&&(0,I.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,I.jsx)("div",{className:"px-6 py-4 border-b",children:(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("h2",{className:"text-lg font-semibold text-gray-800",children:["Miesi\u0105ce pracy - ",j.employee_name]}),(0,I.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Kliknij na miesi\u0105c, aby zobaczy\u0107 szczeg\xf3\u0142y dni"})]}),(0,I.jsx)("button",{onClick:()=>{Q("main"),b(null),f([]),T(null),Z([])},className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"\u2190 Powr\xf3t do podsumowania"})]})}),(0,I.jsxs)("div",{className:"overflow-x-auto",children:[(0,I.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,I.jsx)("thead",{className:"bg-gray-50",children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Miesi\u0105c"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Liczba godzin"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dni pracy"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Akcje"})]})}),(0,I.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((e=>(0,I.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm font-medium text-gray-900",children:new Date(e.month+"-01").toLocaleDateString("pl-PL",{month:"long",year:"numeric"})})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsxs)("div",{className:"text-sm text-gray-900 font-semibold",children:[e.total_hours.toFixed(1),"h"]})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsxs)("div",{className:"text-sm text-gray-900",children:[e.days_worked," dni"]})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,I.jsx)("button",{onClick:()=>(async e=>{try{T(e),u(!0),p("");const t=await E(j.employee_id,e.month);Z(t),Q("days")}catch(h){console.error("Error loading employee days:",h),p("B\u0142\u0105d podczas \u0142adowania dni pracownika")}finally{u(!1)}})(e),className:"text-blue-600 hover:text-blue-900",children:"Zobacz dni"})})]},e.month)))})]}),0===w.length&&(0,I.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Brak danych o miesi\u0105cach pracy"})]})]}),"days"===q&&j&&B&&(0,I.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,I.jsx)("div",{className:"px-6 py-4 border-b",children:(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("h2",{className:"text-lg font-semibold text-gray-800",children:["Dni pracy - ",j.employee_name]}),(0,I.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:new Date(B.month+"-01").toLocaleDateString("pl-PL",{month:"long",year:"numeric"})})]}),(0,I.jsx)("button",{onClick:()=>{Q("months"),T(null),Z([])},className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"\u2190 Powr\xf3t do miesi\u0119cy"})]})}),(0,I.jsxs)("div",{className:"overflow-x-auto",children:[(0,I.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,I.jsx)("thead",{className:"bg-gray-50",children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Przyj\u015bcie"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wyj\u015bcie"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Godziny pracy"})]})}),(0,I.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map((e=>(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm font-medium text-gray-900",children:new Date(e.date).toLocaleDateString("pl-PL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm text-gray-900",children:e.check_in||"-"})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm text-gray-900",children:e.check_out||"-"})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm text-gray-900 font-semibold",children:e.total_hours?e.total_hours.toFixed(1)+"h":"-"})})]},e.date)))})]}),0===U.length&&(0,I.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Brak danych o dniach pracy"})]})]})]})]}),M&&O&&H&&(0,I.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,I.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,I.jsxs)("div",{className:"mt-3 text-center",children:[(0,I.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Kod QR dla ",O.name]}),(0,I.jsx)("div",{className:"mb-4",children:(0,I.jsx)("img",{src:"data:image/png;base64,".concat(H.qr_code_image),alt:"QR Code",className:"mx-auto border rounded-lg"})}),(0,I.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:(0,I.jsxs)("p",{children:["Kod: ",(0,I.jsx)("span",{className:"font-mono font-bold",children:H.qr_code_data})]})}),(0,I.jsx)("div",{className:"flex justify-center",children:(0,I.jsx)("button",{onClick:()=>W(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Zamknij"})})]})})}),te&&(0,I.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,I.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,I.jsxs)("div",{className:"mt-3",children:[(0,I.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:se?"Edytuj wpis czasu - ".concat(ce(se.employee_id)):"Dodaj nowy wpis czasu"}),(0,I.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={employee_id:ne.employee_id,check_in:ne.check_in?new Date(ne.check_in).toISOString():null,check_out:ne.check_out?new Date(ne.check_out).toISOString():null};se?await A(se.id,e):await D(e),ae(!1),await ie()}catch(h){console.error("Error saving time entry:",h),p("B\u0142\u0105d podczas zapisywania wpisu czasu")}},children:[!se&&(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pracownik"}),(0,I.jsxs)("select",{value:ne.employee_id,onChange:e=>le((0,F.A)((0,F.A)({},ne),{},{employee_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,I.jsx)("option",{value:"",children:"Wybierz pracownika"}),l.map((e=>(0,I.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),se&&(0,I.jsx)("div",{className:"mb-4",children:(0,I.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Data: ",new Date(se.date).toLocaleDateString("pl-PL")]})}),(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Przyj\u015bcie"}),(0,I.jsx)("input",{type:"datetime-local",value:ne.check_in,onChange:e=>le((0,F.A)((0,F.A)({},ne),{},{check_in:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wyj\u015bcie"}),(0,I.jsx)("input",{type:"datetime-local",value:ne.check_out,onChange:e=>le((0,F.A)((0,F.A)({},ne),{},{check_out:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,I.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,I.jsx)("button",{type:"button",onClick:()=>ae(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Anuluj"}),(0,I.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:se?"Zaktualizuj":"Dodaj"})]})]})]})})}),G&&(0,I.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,I.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,I.jsxs)("div",{className:"mt-3",children:[(0,I.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:X?"Edytuj pracownika":"Dodaj pracownika"}),(0,I.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,F.A)((0,F.A)({},$),{},{company_id:t.company_id});X?await k(X.id,e):await N(e),J(!1),await ie()}catch(h){console.error("Error saving employee:",h),p("B\u0142\u0105d podczas zapisywania pracownika")}},children:[(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imi\u0119 i nazwisko"}),(0,I.jsx)("input",{type:"text",value:$.name,onChange:e=>ee((0,F.A)((0,F.A)({},$),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,I.jsxs)("select",{value:$.is_active,onChange:e=>ee((0,F.A)((0,F.A)({},$),{},{is_active:"true"===e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,I.jsx)("option",{value:"true",children:"Aktywny"}),(0,I.jsx)("option",{value:"false",children:"Nieaktywny"})]})]}),(0,I.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,I.jsx)("button",{type:"button",onClick:()=>J(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Anuluj"}),(0,I.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:X?"Zaktualizuj":"Dodaj"})]})]})]})})})]})};const M=function(e){let{user:t,onLogout:a}=e;const[r,n]=(0,s.useState)("companies"),[l,i]=(0,s.useState)([]),[c,o]=(0,s.useState)([]),[d,m]=(0,s.useState)({}),[x,u]=(0,s.useState)(!0),[v,N]=(0,s.useState)(""),[k,z]=(0,s.useState)(!1),[_,S]=(0,s.useState)(null),[C,D]=(0,s.useState)({name:""}),[A,R]=(0,s.useState)(!1),[L,P]=(0,s.useState)(null),[E,B]=(0,s.useState)({username:"",password:"",type:"user",company_id:""});(0,s.useEffect)((()=>{T()}),[]);const T=async()=>{try{u(!0),N("");const[e,t]=await Promise.all([h(),j()]);i(e),o(t),m({totalCompanies:e.length,totalUsers:t.length,totalEmployees:0,totalTimeEntries:0})}catch(v){console.error("Error loading data:",v),N("B\u0142\u0105d podczas \u0142adowania danych")}finally{u(!1)}};return x?(0,I.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,I.jsx)("div",{className:"text-xl",children:"\u0141adowanie..."})}):(0,I.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,I.jsx)("div",{className:"bg-white shadow-sm",children:(0,I.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,I.jsxs)("div",{className:"flex justify-between items-center",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Panel W\u0142a\u015bciciela"}),(0,I.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,I.jsxs)("p",{children:["Witaj, ",t.username]}),(0,I.jsx)("p",{children:(0,I.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"\ud83d\udc51 System Owner"})})]})]}),(0,I.jsx)("button",{onClick:a,className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Wyloguj"})]})})}),v&&(0,I.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,I.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:v})}),(0,I.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,I.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,I.jsxs)("div",{className:"flex items-center",children:[(0,I.jsx)("div",{className:"text-3xl",children:"\ud83c\udfe2"}),(0,I.jsxs)("div",{className:"ml-4",children:[(0,I.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Firmy"}),(0,I.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.totalCompanies})]})]})}),(0,I.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,I.jsxs)("div",{className:"flex items-center",children:[(0,I.jsx)("div",{className:"text-3xl",children:"\ud83d\udc65"}),(0,I.jsxs)("div",{className:"ml-4",children:[(0,I.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pracownicy"}),(0,I.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.totalEmployees})]})]})}),(0,I.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,I.jsxs)("div",{className:"flex items-center",children:[(0,I.jsx)("div",{className:"text-3xl",children:"\ud83d\udd11"}),(0,I.jsxs)("div",{className:"ml-4",children:[(0,I.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"U\u017cytkownicy"}),(0,I.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.totalUsers})]})]})}),(0,I.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,I.jsxs)("div",{className:"flex items-center",children:[(0,I.jsx)("div",{className:"text-3xl",children:"\u23f0"}),(0,I.jsxs)("div",{className:"ml-4",children:[(0,I.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Wpisy czasu"}),(0,I.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.totalTimeEntries})]})]})})]}),(0,I.jsx)("div",{className:"bg-white border-b rounded-t-lg",children:(0,I.jsx)("div",{className:"px-6",children:(0,I.jsxs)("nav",{className:"flex space-x-8",children:[(0,I.jsx)("button",{onClick:()=>n("companies"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("companies"===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Firmy"}),(0,I.jsx)("button",{onClick:()=>n("users"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("users"===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"U\u017cytkownicy"})]})})}),(0,I.jsxs)("div",{className:"bg-white rounded-b-lg shadow",children:["companies"===r&&(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[(0,I.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Lista firm"}),(0,I.jsx)("button",{onClick:()=>{S(null),D({name:""}),z(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Dodaj firm\u0119"})]}),(0,I.jsx)("div",{className:"overflow-x-auto",children:(0,I.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,I.jsx)("thead",{className:"bg-gray-50",children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nazwa firmy"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data utworzenia"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Akcje"})]})}),(0,I.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((e=>(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("pl-PL")}),(0,I.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,I.jsx)("button",{onClick:()=>(e=>{S(e),D({name:e.name}),z(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edytuj"}),(0,I.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Czy na pewno chcesz usun\u0105\u0107 t\u0119 firm\u0119?"))try{await g(e),await T()}catch(v){console.error("Error deleting company:",v),N("B\u0142\u0105d podczas usuwania firmy")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Usu\u0144"})]})]},e.id)))})]})})]}),"users"===r&&(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[(0,I.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Lista u\u017cytkownik\xf3w"}),(0,I.jsx)("button",{onClick:()=>{P(null),B({username:"",password:"",type:"user",company_id:""}),R(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Dodaj u\u017cytkownika"})]}),(0,I.jsx)("div",{className:"overflow-x-auto",children:(0,I.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,I.jsx)("thead",{className:"bg-gray-50",children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"U\u017cytkownik"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rola"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Firma"}),(0,I.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Akcje"})]})}),(0,I.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((e=>(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.username})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,I.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("owner"===e.role?"bg-purple-100 text-purple-800":"admin"===e.role?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"owner"===e.role?"W\u0142a\u015bciciel":"admin"===e.role?"Administrator":"U\u017cytkownik"})}),(0,I.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.company_name||"Brak"}),(0,I.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,I.jsx)("button",{onClick:()=>(e=>{P(e),B({username:e.username,password:"",type:e.type,company_id:e.company_id||""}),R(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edytuj"}),(0,I.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Czy na pewno chcesz usun\u0105\u0107 tego u\u017cytkownika?"))try{await f(e),await T()}catch(v){console.error("Error deleting user:",v),N("B\u0142\u0105d podczas usuwania u\u017cytkownika")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Usu\u0144"})]})]},e.id)))})]})})]})]})]}),k&&(0,I.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,I.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,I.jsxs)("div",{className:"mt-3",children:[(0,I.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:_?"Edytuj firm\u0119":"Dodaj firm\u0119"}),(0,I.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{_?await y(_.id,C):await p(C),z(!1),await T()}catch(v){console.error("Error saving company:",v),N("B\u0142\u0105d podczas zapisywania firmy")}},children:[(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nazwa firmy"}),(0,I.jsx)("input",{type:"text",value:C.name,onChange:e=>D((0,F.A)((0,F.A)({},C),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,I.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,I.jsx)("button",{type:"button",onClick:()=>z(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Anuluj"}),(0,I.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:_?"Zaktualizuj":"Dodaj"})]})]})]})})}),A&&(0,I.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,I.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,I.jsxs)("div",{className:"mt-3",children:[(0,I.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:L?"Edytuj u\u017cytkownika":"Dodaj u\u017cytkownika"}),(0,I.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,F.A)({},E);e.company_id||(e.company_id=null),L?(e.password||delete e.password,await w(L.id,e)):await b(e),R(!1),await T()}catch(v){console.error("Error saving user:",v),N("B\u0142\u0105d podczas zapisywania u\u017cytkownika")}},children:[(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nazwa u\u017cytkownika"}),(0,I.jsx)("input",{type:"text",value:E.username,onChange:e=>B((0,F.A)((0,F.A)({},E),{},{username:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Has\u0142o ",L&&"(pozostaw puste, aby nie zmienia\u0107)"]}),(0,I.jsx)("input",{type:"password",value:E.password,onChange:e=>B((0,F.A)((0,F.A)({},E),{},{password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!L})]}),(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Typ u\u017cytkownika"}),(0,I.jsxs)("select",{value:E.type,onChange:e=>B((0,F.A)((0,F.A)({},E),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,I.jsx)("option",{value:"owner",children:"W\u0142a\u015bciciel"}),(0,I.jsx)("option",{value:"admin",children:"Administrator"}),(0,I.jsx)("option",{value:"user",children:"U\u017cytkownik"})]})]}),(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Firma"}),(0,I.jsxs)("select",{value:E.company_id,onChange:e=>B((0,F.A)((0,F.A)({},E),{},{company_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,I.jsx)("option",{value:"",children:"Brak (tylko dla w\u0142a\u015bciciela)"}),l.map((e=>(0,I.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,I.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,I.jsx)("button",{type:"button",onClick:()=>R(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Anuluj"}),(0,I.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:L?"Zaktualizuj":"Dodaj"})]})]})]})})})]})},W=()=>{const[e,t]=(0,s.useState)(null),[a,r]=(0,s.useState)(!0);(0,s.useEffect)((()=>{n()}),[]);const n=async()=>{if(localStorage.getItem("token"))try{const e=localStorage.getItem("user");e?t(JSON.parse(e)):localStorage.removeItem("token")}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("token")}r(!1)},l=(e,a)=>{localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(e)),t(e)},i=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t(null)};return a?(0,I.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,I.jsx)("div",{className:"text-xl",children:"\u0141adowanie..."})}):e?"owner"===e.type?(0,I.jsx)(M,{user:e,onLogout:i}):(0,I.jsx)("div",{className:"min-h-screen bg-gray-100",children:"admin"===e.role?(0,I.jsx)(Q,{user:e,onLogout:i}):(0,I.jsx)(q,{user:e,onLogout:i})}):(0,I.jsx)(T,{onLogin:l})}}}]);
//# sourceMappingURL=570.20be4592.chunk.js.map